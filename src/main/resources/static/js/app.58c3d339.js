(function(){"use strict";var e={1057:function(e,t,a){var o=a(9242),n=a(3396);const l={id:"app"};function s(e,t,a,o,s,i){const r=(0,n.up)("HeaderBar"),d=(0,n.up)("router-view"),c=(0,n.up)("FooterBar");return(0,n.wg)(),(0,n.iD)("div",l,[(0,n.Wm)(r),(0,n._)("main",null,[(0,n.Wm)(d)]),(0,n.Wm)(c)])}const i=e=>((0,n.dD)("data-v-28f8097e"),e=e(),(0,n.Cn)(),e),r={class:"left-menu"},d=i((()=>(0,n._)("div",{class:"center-menu"},[(0,n._)("h4",null,"모모와 원정대")],-1))),c={class:"right-menu"},m={key:0,class:"menu"},u={class:"menu-list"},p=i((()=>(0,n._)("b",null,"내가만든 원정대",-1))),h=i((()=>(0,n._)("b",null,"교관인 원정대",-1))),g=i((()=>(0,n._)("b",null,"참여중인 원정대",-1))),b=i((()=>(0,n._)("b",null,"대기중인 원정대",-1)));function w(e,t,a,o,l,s){const i=(0,n.up)("font-awesome-icon"),w=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("header",null,[(0,n._)("div",r,[(0,n.Wm)(i,{onClick:s.openHamburgerMenu,class:"home-icon",icon:["fas","bars"],style:{color:"whitesmoke"}},null,8,["onClick"])]),d,(0,n._)("div",c,[(0,n.Wm)(w,{to:"/profile"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{class:"home-icon",icon:["fasl","user"],style:{color:"whitesmoke"}})])),_:1}),(0,n.Wm)(i,{class:"home-icon",icon:["fasl","right-from-bracket"],style:{color:"whitesmoke"}})]),l.showHamburgerMenu?((0,n.wg)(),(0,n.iD)("div",m,[(0,n._)("span",null,[(0,n.Wm)(i,{onClick:s.closeHamburgerMenu,icon:["fas","xmark"],class:"ham-close-button",style:{color:"#42b983"}},null,8,["onClick"])]),(0,n._)("span",u,[(0,n.Wm)(w,{to:"/my-teams/owner"},{default:(0,n.w5)((()=>[p])),_:1}),(0,n.Wm)(w,{to:"/my-teams/owner"},{default:(0,n.w5)((()=>[h])),_:1}),(0,n.Wm)(w,{to:"/my-teams/member"},{default:(0,n.w5)((()=>[g])),_:1}),(0,n.Wm)(w,{to:"/my-teams/pending"},{default:(0,n.w5)((()=>[b])),_:1})])])):(0,n.kq)("",!0)])}var f={name:"HeaderBar",data(){return{showHamburgerMenu:!1}},methods:{openHamburgerMenu(){this.showHamburgerMenu=!0},closeHamburgerMenu(){this.showHamburgerMenu=!1}}},k=a(89);const y=(0,k.Z)(f,[["render",w],["__scopeId","data-v-28f8097e"]]);var _=y;const v=e=>((0,n.dD)("data-v-67a5dc1a"),e=e(),(0,n.Cn)(),e),M={class:"bottom-nav"},C=v((()=>(0,n._)("i",{class:"fas fa-comments",style:{color:"whitesmoke"}},null,-1)));function T(e,t,a,o,l,s){const i=(0,n.up)("font-awesome-icon"),r=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("footer",null,[(0,n._)("nav",M,[(0,n.Wm)(r,{to:"/home"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{icon:["fasl","list-check"],style:{color:"whitesmoke"}})])),_:1}),(0,n.Wm)(r,{to:"/teams"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{icon:["fasl","people-group"],style:{color:"whitesmoke"}})])),_:1}),(0,n.Wm)(i,{icon:["fasl","house"],style:{color:"whitesmoke"}}),(0,n.Wm)(r,{to:"/goals"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{icon:["fasl","chart-bar"],style:{color:"whitesmoke"}})])),_:1}),(0,n.Wm)(r,{to:"/share"},{default:(0,n.w5)((()=>[(0,n.Wm)(i,{icon:["fas","book"],style:{color:"whitesmoke"}})])),_:1}),C])])}var D={name:"FooterBar"};const I=(0,k.Z)(D,[["render",T],["__scopeId","data-v-67a5dc1a"]]);var P=I,x={name:"App",components:{FooterBar:P,HeaderBar:_}};const B=(0,k.Z)(x,[["render",s]]);var U=B,S=a(678),G=a(7139),z=a.p+"img/badge-beginner.19fafda8.png";const N=e=>((0,n.dD)("data-v-090de9a8"),e=e(),(0,n.Cn)(),e),Z={class:"home"},O=N((()=>(0,n._)("img",{class:"home-badge",src:z,alt:"뱃지"},null,-1))),A=N((()=>(0,n._)("p",null,"한걸음 한걸음 목표에 다가가는 중이에요",-1))),j=N((()=>(0,n._)("div",null,null,-1)));function V(e,t,a,o,l,s){const i=(0,n.up)("TodoListBox");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",Z,[(0,n._)("h1",null,[O,(0,n.Uk)((0,G.zw)(o.nickname)+"님, 힘내세요!",1)]),A,(0,n.Wm)(i)]),j],64)}const $={class:"calendar box"},F={class:"calendar-title"},L={class:"todo-list"},E=["checked","onChange"];function q(e,t,a,o,l,s){return(0,n.wg)(),(0,n.iD)("div",$,[(0,n._)("div",F,(0,G.zw)(s.formatDate(l.selectedDate))+"의 TodoList ",1),(0,n._)("ul",L,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.todos,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t},[(0,n._)("span",{class:(0,G.C_)({completed:e.dailyCheck?.completed})},(0,G.zw)(e.title),3),(0,n._)("input",{type:"checkbox",checked:e.dailyCheck?.completed,onChange:t=>s.toggleCompleted(e)},null,40,E)])))),128))])])}var W=a(4161);const H="http://43.201.233.226",J="80",R=`${H}:${J}/api`,Y=`${H}:${J}/login`,K=W.Z.create({baseURL:`${H}:${J}`});K.interceptors.request.use((e=>{const t=localStorage.getItem("user-token");return t&&(e.headers["Authorization"]=`Bearer ${t}`),e}),(e=>Promise.reject(e)));var Q={data(){return{apiUrl:R,isRequestPending:!1,selectedDate:new Date,todos:[]}},methods:{formatDate(e){const t=e.getMonth()+1,a=e.getDate();return`${t}월 ${a}일`},async toggleCompleted(e){this.isRequestPending||(this.isRequestPending=!0,null===e.dailyCheck?(e.dailyCheck={completed:!0},await W.Z.post(`${this.apiUrl}/goal/${e.id}/daily`,null,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}})):(e.dailyCheck.completed=!e.dailyCheck.completed,await W.Z.put(`${this.apiUrl}/goal/${e.id}/daily`,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}})),console.log(this.isRequestPending),this.isRequestPending=!1,console.log(this.isRequestPending))}},mounted(){W.Z.get(this.apiUrl+"/goal/todo-list",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}).then((e=>{console.log(e.data),this.todos=e.data,console.log(e.data[0].dailyCheck.completed)})).catch((e=>{console.log(e)}))}};const X=(0,k.Z)(Q,[["render",q],["__scopeId","data-v-4a184445"]]);var ee=X,te=a(65),ae={name:"HomeView",components:{TodoListBox:ee},methods:{},setup(){const e=(0,te.oR)(),t=(0,n.Fl)((()=>e.state.user.nickname)),a=(0,n.Fl)((()=>e.state.user.username));return{nickname:t,username:a}},mounted(){console.log("HomeView mounted")}};const oe=(0,k.Z)(ae,[["render",V],["__scopeId","data-v-090de9a8"]]);var ne=oe;const le=e=>((0,n.dD)("data-v-f56fe8a4"),e=e(),(0,n.Cn)(),e),se={class:"content"},ie=le((()=>(0,n._)("h1",null,"Share Your Progress",-1))),re={class:"post-container"};function de(e,t,a,o,l,s){const i=(0,n.up)("PostBox");return(0,n.wg)(),(0,n.iD)("div",se,[ie,(0,n._)("div",re,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.posts,(e=>((0,n.wg)(),(0,n.j4)(i,{key:e.id,post:e},null,8,["post"])))),128))])])}const ce=e=>((0,n.dD)("data-v-17b85a9b"),e=e(),(0,n.Cn)(),e),me={class:"post"},ue=ce((()=>(0,n._)("div",{class:"post-actions"},[(0,n._)("button",{class:"edit-btn"},"Edit"),(0,n._)("button",{class:"delete-btn"},"Delete"),(0,n._)("button",{class:"share-btn"},"Share")],-1)));function pe(e,t,a,o,l,s){const i=(0,n.up)("CommentBox");return(0,n.wg)(),(0,n.iD)("div",me,[(0,n._)("h2",null,(0,G.zw)(a.post.title),1),(0,n._)("p",null,(0,G.zw)(a.post.content),1),ue,(0,n.Wm)(i,{comments:a.post.comments},null,8,["comments"])])}const he=e=>((0,n.dD)("data-v-1730fdc8"),e=e(),(0,n.Cn)(),e),ge={className:"comment-box"},be=he((()=>(0,n._)("form",{className:"comment-form"},[(0,n._)("input",{type:"text",placeholder:"Write a comment..."}),(0,n._)("button",{type:"submit"},"Submit")],-1)));function we(e,t,a,o,l,s){return(0,n.wg)(),(0,n.iD)("div",ge,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.comments,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"comment",key:e.id},[(0,n._)("p",null,(0,G.zw)(e.content),1)])))),128)),be])}var fe={name:"CommentBox",props:{comments:Array}};const ke=(0,k.Z)(fe,[["render",we],["__scopeId","data-v-1730fdc8"]]);var ye=ke,_e={name:"PostBox",props:{post:Object},components:{CommentBox:ye},created(){}};const ve=(0,k.Z)(_e,[["render",pe],["__scopeId","data-v-17b85a9b"]]);var Me=ve,Ce={name:"ShareYourProgress",components:{PostBox:Me},data(){return{posts:[{id:1,title:"Example Post 1",content:"This is an example post.",comments:[{id:1,content:"This is an example comment 1."},{id:2,content:"This is an example comment 2."}]},{id:2,title:"Example Post 2",content:"This is another example post.",comments:[{id:3,content:"This is an example comment 3."},{id:4,content:"This is an example comment 4."}]}]}},created(){}};const Te=(0,k.Z)(Ce,[["render",de],["__scopeId","data-v-f56fe8a4"]]);var De=Te;const Ie=e=>((0,n.dD)("data-v-2f498e98"),e=e(),(0,n.Cn)(),e),Pe={class:"tasks"},xe={class:"team-section"},Be={key:1},Ue={class:"date-picker"},Se={class:"goals-container"},Ge={class:"left-side box"},ze={class:"left-side-header"},Ne={key:1},Ze={class:"chart-container"},Oe={ref:"chart",style:{width:"60%",height:"400px"}},Ae={class:"right-side"},je={class:"self-feedback box"},Ve={class:"self-feedback-header"},$e=Ie((()=>(0,n._)("h2",null,"셀프 피드백",-1))),Fe=Ie((()=>(0,n._)("i",{class:"fas fa-pencil-alt"},null,-1))),Le=[Fe],Ee=Ie((()=>(0,n._)("i",{class:"fas fa-trash-alt"},null,-1))),qe=[Ee],We={class:"self-feedback content"},He={class:"manager-feedback box"},Je={class:"manager-feedback-header"},Re=Ie((()=>(0,n._)("h2",null,"팀장 피드백",-1))),Ye=Ie((()=>(0,n._)("i",{class:"fas fa-pencil-alt"},null,-1))),Ke=[Ye],Qe=Ie((()=>(0,n._)("i",{class:"fas fa-trash-alt"},null,-1))),Xe=[Qe],et={class:"manager-feedback content"},tt={class:"goal-view-modal-content"},at=Ie((()=>(0,n._)("h2",null,"셀프피드백 작성",-1))),ot=Ie((()=>(0,n._)("p",null,"피드백 내용을 입력하세요:",-1))),nt=Ie((()=>(0,n._)("br",null,null,-1))),lt={class:"goal-view-modal-content"},st=Ie((()=>(0,n._)("h2",null,"피드백 작성",-1))),it=Ie((()=>(0,n._)("p",null,"피드백 내용을 입력하세요:",-1))),rt=Ie((()=>(0,n._)("br",null,null,-1)));function dt(e,t,a,l,s,i){return(0,n.wg)(),(0,n.iD)("div",Pe,[(0,n._)("div",xe,[s.showPrevTeamButton?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"move-button",onClick:t[0]||(t[0]=(...e)=>i.prevTeam&&i.prevTeam(...e))},"◀")):(0,n.kq)("",!0),s.teams.length>0?((0,n.wg)(),(0,n.iD)("h1",Be,(0,G.zw)(s.teams[s.teamIndex].teamName),1)):(0,n.kq)("",!0),s.showNextTeamButton?((0,n.wg)(),(0,n.iD)("button",{key:2,class:"move-button",onClick:t[1]||(t[1]=(...e)=>i.nextTeam&&i.nextTeam(...e))},"▶")):(0,n.kq)("",!0)]),(0,n._)("div",Ue,[(0,n.wy)((0,n._)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>s.selectedDate=e),onChange:t[3]||(t[3]=(...e)=>i.fetchTasks&&i.fetchTasks(...e))},null,544),[[o.nr,s.selectedDate]])]),(0,n._)("div",Se,[(0,n._)("div",Ge,[(0,n._)("div",ze,[s.showPrevPlanButton?((0,n.wg)(),(0,n.iD)("button",{key:0,class:"move-button",onClick:t[4]||(t[4]=(...e)=>i.prevPlan&&i.prevPlan(...e))},"◀")):(0,n.kq)("",!0),s.plan.title?((0,n.wg)(),(0,n.iD)("h2",Ne,(0,G.zw)(s.plan.title),1)):(0,n.kq)("",!0),s.showNextPlanButton?((0,n.wg)(),(0,n.iD)("button",{key:2,class:"move-button",onClick:t[5]||(t[5]=(...e)=>i.nextPlan&&i.nextPlan(...e))},"▶")):(0,n.kq)("",!0)]),(0,n._)("div",Ze,[(0,n._)("div",Oe,null,512)])]),(0,n._)("div",Ae,[(0,n._)("div",je,[(0,n._)("div",Ve,[$e,(0,n._)("div",null,[(0,n._)("span",{class:"icon-wrapper",onClick:t[6]||(t[6]=(...e)=>i.openSelfFeedbackModal&&i.openSelfFeedbackModal(...e))},Le),(0,n._)("span",{class:"icon-wrapper",onClick:t[7]||(t[7]=(...e)=>i.deleteSelfFeedback&&i.deleteSelfFeedback(...e))},qe)])]),(0,n._)("div",We,[(0,n._)("span",null,(0,G.zw)(s.self.reason),1)])]),(0,n._)("div",He,[(0,n._)("div",Je,[Re,(0,n._)("div",null,[(0,n._)("span",{onClick:t[8]||(t[8]=(...e)=>i.openFeedbackModal&&i.openFeedbackModal(...e))},Ke),(0,n._)("span",{onClick:t[9]||(t[9]=(...e)=>i.deleteFeedback&&i.deleteFeedback(...e))},Xe)])]),(0,n._)("div",et,[(0,n._)("span",null,(0,G.zw)(this.feedback.comment),1)])]),s.selfModalVisible?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"goal-view-modal",onClick:t[13]||(t[13]=(0,o.iM)((()=>{}),["stop"])),onKeydown:t[14]||(t[14]=(0,o.iM)((()=>{}),["stop"]))},[(0,n._)("div",tt,[(0,n._)("span",{class:"close",onClick:t[10]||(t[10]=(...e)=>i.closeSelfFeedbackModal&&i.closeSelfFeedbackModal(...e))},"×"),at,ot,(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[11]||(t[11]=e=>s.self.reason=e),rows:"4",cols:"50"},null,512),[[o.nr,s.self.reason]]),nt,(0,n._)("button",{onClick:t[12]||(t[12]=(...e)=>i.submitSelfFeedback&&i.submitSelfFeedback(...e))},"저장")])],32)):(0,n.kq)("",!0),s.feedbackModalVisible?((0,n.wg)(),(0,n.iD)("div",{key:1,class:"goal-view-modal",onClick:t[18]||(t[18]=(0,o.iM)((()=>{}),["stop"])),onKeydown:t[19]||(t[19]=(0,o.iM)((()=>{}),["stop"]))},[(0,n._)("div",lt,[(0,n._)("span",{class:"close",onClick:t[15]||(t[15]=(...e)=>i.closeFeedbackModal&&i.closeFeedbackModal(...e))},"×"),st,it,(0,n.wy)((0,n._)("textarea",{"onUpdate:modelValue":t[16]||(t[16]=e=>s.feedback.comment=e),rows:"4",cols:"50"},null,512),[[o.nr,s.feedback.comment]]),rt,(0,n._)("button",{onClick:t[17]||(t[17]=(...e)=>i.submitFeedback&&i.submitFeedback(...e))},"저장")])],32)):(0,n.kq)("",!0)])])])}var ct=a(9043),mt=(a(1129),{name:"GoalsView",data(){return{teamIndex:0,member:{},selectedDate:null,chart:null,teams:[],goals:[],plan:{},planIndex:0,feedback:{},self:{},selfModalVisible:!1,feedbackModalVisible:!1,isTutor:!1,showPrevTeamButton:!0,showNextTeamButton:!0,showPrevPlanButton:!0,showNextPlanButton:!0}},computed:{formattedDate(){const e=new Date,t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0");return`${t}-${a}-${o}`}},mounted(){this.getTeamList(),this.selectedDate=this.formattedDate},methods:{getTeamList(){W.Z.get(R+"/team/my-list",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{console.log(e.data),this.teams=e.data,this.setTutorButton(),this.fetchTasks(),this.prevTeamButton(),this.nextTeamButton(),this.prevPlanButton(),this.nextPlanButton()})).catch((e=>{console.log(e)}))},fetchTasks(){if(0===this.teams.length)return;const e=(new Date).toISOString().split("T")[0],t=this.teams[this.teamIndex].planDtoList[this.planIndex].id;W.Z.get(R+"/report/plan/"+t+"/date/"+e,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{this.plan=e.data.plan,this.goals=e.data.plan.goalList,this.feedback=e.data.feedback,this.self=e.data.selfFeedback,null===this.self.reason&&(this.self.reason="작성된 셀프 피드백이 없습니다."),null===this.feedback.comment&&(this.feedback.comment="작성된 팀장 피드백이 없습니다."),this.drawAchievementChart()})).catch((e=>{console.log(e)}))},setTutorButton(){"OWNER"!==this.teams[this.teamIndex].gradeName&&"MANAGER"!==this.teams[this.teamIndex].gradeName||(this.isTutor=!0)},openFeedbackModal(){this.feedbackModalVisible=!this.feedbackModalVisible},closeFeedbackModal(){this.feedbackModalVisible=!this.feedbackModalVisible},async deleteFeedback(){if(confirm("피드백을 삭제하시겠습니까?"))if(null!==this.feedback.id)try{await W.Z["delete"](R+"/feedback/"+this.teams[this.teamIndex].id+"/feedback/"+this.feedback.id,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}})}catch(e){console.log(e)}else alert("삭제할 피드백이 없습니다.")},submitFeedback(){null===this.feedback.id?W.Z.post(R+"/feedback/",{planId:this.teams[this.teamIndex].planDtoList[this.planIndex].id,comment:this.feedback.comment,checkDate:this.selectedDate},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{console.log(e),this.feedback=e.data,this.closeFeedbackModal()})).catch((e=>{console.log(e)})):W.Z.put(R+"/feedback/"+this.teams[this.teamIndex].id+"/feedback/",{id:this.feedback.id,teamId:this.teams[this.teamIndex].id,comment:this.feedback.comment,checkDate:this.selectedDate},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{this.feedback=e.data,this.closeFeedbackModal()})).catch((e=>{console.log(e)}))},openSelfFeedbackModal(){this.selfModalVisible=!this.selfModalVisible,console.log(this.selfModalVisible)},closeSelfFeedbackModal(){this.selfModalVisible=!this.selfModalVisible},deleteSelfFeedback(){confirm("셀프 피드백을 삭제하시겠습니까?")&&(null!==this.self.id?(console.log("deleteSelfFeedback"),W.Z["delete"](R+"/goal/"+this.teams[this.teamIndex].id+"/self/"+this.self.id,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{console.log(e),this.self={reason:"작성된 셀프 피드백이 없습니다."}})).catch((e=>{console.log(e)}))):alert("삭제할 셀프 피드백이 없습니다."))},submitSelfFeedback(){null===this.self.id?W.Z.post(R+"/feedback/self",{planId:this.teams[this.teamIndex].planDtoList[this.planIndex].id,reason:this.self.reason,measure:"",checkDate:this.selectedDate},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{console.log(e),this.self=e.data,this.closeSelfFeedbackModal()})).catch((e=>{console.log(e)})):W.Z.put(R+"/feedback/self/",{id:this.self.id,planId:this.teams[this.teamIndex].planDtoList[this.planIndex].id,reason:this.self.reason,measure:"123",checkDate:this.selectedDate},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{console.log(e),this.closeSelfFeedbackModal()})).catch((e=>{console.log(e)}))},drawAchievementChart(){const e=this.goals.map((e=>e.title)),t=this.goals.map((e=>{if(null!==e.dailyCheckList){let t=null===e.dailyCheckList.length?0:e.dailyCheckList.length;return console.log(t),console.log(e),t/e.goalCount*100}return 0}));console.log(t),this.initChart(e,t)},prevTeamButton(){this.showPrevTeamButton=0!==this.teamIndex},prevTeam(){this.teamIndex--,this.planIndex=0,this.fetchTasks(),this.prevTeamButton(),this.nextTeamButton()},nextTeamButton(){this.showNextTeamButton=this.teamIndex!==this.teams.length-1},nextTeam(){this.teamIndex++,this.planIndex=0,this.fetchTasks(),this.prevTeamButton(),this.nextTeamButton()},prevPlanButton(){this.showPrevPlanButton=0!==this.planIndex},prevPlan(){this.planIndex--,this.fetchTasks(),this.prevPlanButton(),this.nextPlanButton()},nextPlanButton(){console.log(this.teams[this.teamIndex].planDtoList.length),this.showNextPlanButton=this.planIndex!==this.teams[this.teamIndex].planDtoList.length-1},nextPlan(){this.planIndex++,this.fetchTasks(),this.prevPlanButton(),this.nextPlanButton()},initChart(e,t){this.disposeChart(),this.chart=ct.S1(this.$refs.chart);const a={tooltip:{},legend:{data:["달성률"]},yAxis:{},xAxis:{data:e},series:[{name:"달성률",type:"bar",data:t}]};this.chart.setOption(a)},disposeChart(){this.chart&&(this.chart.dispose(),this.chart=null)}}});const ut=(0,k.Z)(mt,[["render",dt],["__scopeId","data-v-2f498e98"]]);var pt=ut;const ht=e=>((0,n.dD)("data-v-6112684c"),e=e(),(0,n.Cn)(),e),gt={class:"team-list"},bt={class:"team-list"},wt=["onClick"],ft={key:0,class:"modal"},kt={class:"modal-content"},yt=ht((()=>(0,n._)("h3",null,"초대 코드를 아시나요?",-1))),_t={key:1,class:"modal"},vt={class:"modal-content"},Mt=ht((()=>(0,n._)("h3",null,"팀 만들기",-1))),Ct={class:"mt-3"},Tt=ht((()=>(0,n._)("span",null,"팀을 공개하실 건가요?",-1))),Dt=ht((()=>(0,n._)("br",null,null,-1))),It={key:2,class:"modal"},Pt={class:"modal-content"},xt=ht((()=>(0,n._)("h3",null,"팀에 가입할건가요?",-1)));function Bt(e,t,a,l,s,i){const r=(0,n.up)("Datepicker");return(0,n.wg)(),(0,n.iD)("div",gt,[(0,n._)("div",bt,[(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>i.openTagModal&&i.openTagModal(...e)),class:"tag-input-button"},"초대 코드"),(0,n._)("button",{onClick:t[1]||(t[1]=(...e)=>i.openCreateTeamModal&&i.openCreateTeamModal(...e)),class:"create-team-input-button"},"팀 만들기"),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.filterTeams(),(e=>((0,n.wg)(),(0,n.iD)("div",{class:"team",key:e.name},[(0,n._)("h3",null,(0,G.zw)(e.teamName),1),(0,n._)("p",null,(0,G.zw)(e.description),1),(0,n._)("button",{onClick:t=>i.openJoinModal(e)},"Join",8,wt)])))),128))]),s.showTagModal?((0,n.wg)(),(0,n.iD)("div",ft,[(0,n._)("div",kt,[(0,n._)("span",{class:"cancel-icon",onClick:t[2]||(t[2]=(...e)=>i.closeTagModal&&i.closeTagModal(...e))},"×"),yt,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>s.teamTag=e),placeholder:"초대 코드를 입력하세요.",class:"tag-input"},null,512),[[o.nr,s.teamTag]]),(0,n._)("button",{onClick:t[4]||(t[4]=(...e)=>i.submitTag&&i.submitTag(...e))},"확인")])])):(0,n.kq)("",!0),s.showCreateTeamModal?((0,n.wg)(),(0,n.iD)("div",_t,[(0,n._)("div",vt,[(0,n._)("span",{class:"cancel-icon",onClick:t[5]||(t[5]=(...e)=>i.closeCreateTeamModal&&i.closeCreateTeamModal(...e))},"×"),Mt,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=e=>s.createTeamName=e),placeholder:"팀명을 입력해주세요.",class:"tag-input"},null,512),[[o.nr,s.createTeamName]]),(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=e=>s.createTeamDescription=e),placeholder:"팀에 대한 간략한 설명을 입력해주세요.",class:"tag-input"},null,512),[[o.nr,s.createTeamDescription]]),(0,n._)("div",Ct,[(0,n.Wm)(r,{modelValue:s.startDate,"onUpdate:modelValue":t[8]||(t[8]=e=>s.startDate=e)},null,8,["modelValue"]),(0,n.Wm)(r,{modelValue:s.endDate,"onUpdate:modelValue":t[9]||(t[9]=e=>s.endDate=e)},null,8,["modelValue"])]),Tt,(0,n._)("input",{type:"checkbox",onChange:t[10]||(t[10]=e=>i.changeOpenOption(s.createTeamOpen))},null,32),(0,n.Uk)(),Dt,(0,n._)("button",{onClick:t[11]||(t[11]=(...e)=>i.submitCreate&&i.submitCreate(...e))},"Create")])])):(0,n.kq)("",!0),s.showJoinModal?((0,n.wg)(),(0,n.iD)("div",It,[(0,n._)("div",Pt,[(0,n._)("span",{class:"cancel-icon",onClick:t[12]||(t[12]=(...e)=>i.closeJoinModal&&i.closeJoinModal(...e))},"×"),xt,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=e=>s.introduce=e),placeholder:"각오를 단단히 써주세요!!",class:"tag-input"},null,512),[[o.nr,s.introduce]]),(0,n._)("button",{onClick:t[14]||(t[14]=(...e)=>i.submitJoin&&i.submitJoin(...e))},"Submit")])])):(0,n.kq)("",!0)])}a(7658);var Ut=a(5094),St={name:"TeamListView",data(){return{apiUrl:R,teams:[],searchQuery:"",showTagModal:!1,showJoinModal:!1,showCreateTeamModal:!1,selectedTeam:null,teamTag:"",createTeamName:"",createTeamDescription:"",createTeamOpen:!1,startDate:new Date,endDate:new Date,introduce:"",submitTeamId:""}},components:{Datepicker:Ut.Z},async mounted(){try{const e=await W.Z.get(this.apiUrl+"/team/list");this.teams=e.data,console.log("Team list:",this.teams)}catch(e){console.error("Error fetching team list:",e)}},methods:{filterTeams(){return this.searchQuery?this.teams.filter((e=>e.tags.some((e=>e.toLowerCase().includes(this.searchQuery.toLowerCase()))))):this.teams},openJoinModal(e){this.selectedTeam=e,this.showJoinModal=!0,this.submitTeamId=e.id},closeJoinModal(){this.selectedTeam=null,this.showJoinModal=!1,this.submitTeamId=""},submitJoin(){W.Z.post(this.apiUrl+"/team/join/"+this.submitTeamId,this.introduce,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}).then((e=>{console.log(e)})).catch((e=>{console.error(e)})),this.closeJoinModal()},openTagModal(){this.showTagModal=!0},closeTagModal(){this.showTagModal=!1},async submitTag(){if(confirm("가입하시겠어요?")){console.log("Submitted team tag:",this.teamTag);try{await W.Z.post(this.apiUrl+"/team/private-join/"+this.teamTag,null,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}),alert("가입신청이 완료되었습니다.")}catch(e){console.log(e)}this.closeTagModal()}},openCreateTeamModal(){console.log(this.endDate),this.showCreateTeamModal=!0},closeCreateTeamModal(){console.log(this.endDate),this.showCreateTeamModal=!1},changeOpenOption(e){this.createTeamOpen=!e},async submitCreate(){const e={teamName:this.createTeamName,description:this.createTeamDescription,isOpen:this.createTeamOpen,startDate:this.startDate,endDate:this.endDate,goalCount:this.goalCount};W.Z.post(this.apiUrl+"/team/create",e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}).then((()=>{alert("팀 생성 성공"),this.teams.push(e)})).catch((e=>{console.error(e)})),console.log("Submitted team name:",this.teamTag),this.closeCreateTeamModal()},formatDate(e){var t=e.getFullYear().toString(),a=(e.getMonth()+1).toString(),o=e.getDate().toString();return a=a[1]?a:"0"+a[0],o=o[1]?o:"0"+o[0],t+"-"+a+"-"+o}}};const Gt=(0,k.Z)(St,[["render",Bt],["__scopeId","data-v-6112684c"]]);var zt=Gt;const Nt=e=>((0,n.dD)("data-v-3db6465c"),e=e(),(0,n.Cn)(),e),Zt={class:"login-container"},Ot=Nt((()=>(0,n._)("h2",{class:"login-header"},"Login",-1))),At=Nt((()=>(0,n._)("br",null,null,-1))),jt=Nt((()=>(0,n._)("span",{class:"button-section"},[(0,n._)("button",{type:"submit",class:"login-button"},"Login"),(0,n._)("button",{type:"submit",class:"login-button"},"Join")],-1)));function Vt(e,t,a,l,s,i){return(0,n.wg)(),(0,n.iD)("div",Zt,[Ot,(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>i.submitLoginForm&&i.submitLoginForm(...e)),["prevent"]))},[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e),placeholder:"username",required:"",class:"login-input"},null,512),[[o.nr,s.username]]),(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),placeholder:"Password",required:"",class:"login-input"},null,512),[[o.nr,s.password]]),At,jt],32)])}var $t=a(1598),Ft=(0,te.MT)({state:{user:{username:null,nickname:null},token:null,decodedToken:null},mutations:{setToken(e,t){e.token=t,e.decodedToken=(0,$t.Z)(t),e.user.nickname=null!=e.decodedToken?e.decodedToken.nickname:null,e.user.username=null!=e.decodedToken?e.decodedToken.username:null}},actions:{login({commit:e},t){e("setToken",t)}},modules:{}}),Lt={name:"LoginView",data(){return{apiUrl:Y,username:"",password:""}},methods:{async submitLoginForm(){console.log(this.apiUrl);try{const e=await W.Z.post(this.apiUrl,{username:this.username,password:this.password}),t=e.headers.getAuthorization();localStorage.setItem("user-token",t),await Ft.dispatch("login",t),await this.$router.push("/home")}catch(e){console.error("로그인 오류:",e)}}}};const Et=(0,k.Z)(Lt,[["render",Vt],["__scopeId","data-v-3db6465c"]]);var qt=Et;const Wt=e=>((0,n.dD)("data-v-4742c321"),e=e(),(0,n.Cn)(),e),Ht={class:"profile-container"},Jt=Wt((()=>(0,n._)("h2",{class:"profile-header"},"User Profile",-1))),Rt=Wt((()=>(0,n._)("label",{for:"username",class:"profile-label"},"Username",-1))),Yt=Wt((()=>(0,n._)("label",{for:"nickname",class:"profile-label"},"Nickname",-1))),Kt=Wt((()=>(0,n._)("label",{for:"email",class:"profile-label"},"Email",-1))),Qt=Wt((()=>(0,n._)("label",{for:"password",class:"profile-label"},"New Password",-1))),Xt=Wt((()=>(0,n._)("label",{for:"confirmPassword",class:"profile-label"},"Confirm New Password",-1))),ea=Wt((()=>(0,n._)("button",{type:"submit",class:"profile-button"},"Update Profile",-1)));function ta(e,t,a,l,s,i){return(0,n.wg)(),(0,n.iD)("div",Ht,[Jt,(0,n._)("form",{onSubmit:t[5]||(t[5]=(0,o.iM)(((...e)=>i.submitUpdateForm&&i.submitUpdateForm(...e)),["prevent"]))},[Rt,(0,n.wy)((0,n._)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>s.user.username=e),required:"",class:"profile-input"},null,512),[[o.nr,s.user.username]]),Yt,(0,n.wy)((0,n._)("input",{type:"text",id:"nickname","onUpdate:modelValue":t[1]||(t[1]=e=>s.user.nickname=e),required:"",class:"profile-input"},null,512),[[o.nr,s.user.nickname]]),Kt,(0,n.wy)((0,n._)("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>s.user.email=e),required:"",class:"profile-input"},null,512),[[o.nr,s.user.email]]),Qt,(0,n.wy)((0,n._)("input",{type:"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.user.password=e),class:"profile-input"},null,512),[[o.nr,s.user.password]]),Xt,(0,n.wy)((0,n._)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[4]||(t[4]=e=>this.confirmPassword=e),class:"profile-input"},null,512),[[o.nr,this.confirmPassword]]),ea],32)])}var aa={name:"UserProfileView",data(){return{user:{},confirmPassword:""}},mounted(){W.Z.get(R+"/user/profile",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{this.user=e.data})).catch((e=>{console.log(e)}))},methods:{submitUpdateForm(){console.log("user:",this.user),console.log("Confirm New Password:",this.confirmPassword),!1!==confirm("회원 정보를 수정하시겠습니까?")&&(this.user.password===this.confirmPassword?W.Z.put(R+"/user/profile",this.user,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{alert("회원 정보가 수정되었습니다."),console.log(e),this.$router.push({path:"/"})})).catch((e=>{console.log(e)})):alert("비밀번호가 일치하지 않습니다."))}}};const oa=(0,k.Z)(aa,[["render",ta],["__scopeId","data-v-4742c321"]]);var na=oa;const la=e=>((0,n.dD)("data-v-3234ee54"),e=e(),(0,n.Cn)(),e),sa={class:"signup"},ia=la((()=>(0,n._)("h2",null,"회원가입",-1))),ra=la((()=>(0,n._)("label",{for:"username"},"아이디:",-1))),da=la((()=>(0,n._)("label",{for:"nickname"},"닉네임:",-1))),ca=la((()=>(0,n._)("label",{for:"email"},"이메일:",-1))),ma=la((()=>(0,n._)("label",{for:"password"},"비밀번호:",-1))),ua=la((()=>(0,n._)("label",{for:"password-confirm"},"비밀번호 확인:",-1))),pa=la((()=>(0,n._)("button",{type:"submit"},"회원가입",-1)));function ha(e,t,a,l,s,i){return(0,n.wg)(),(0,n.iD)("div",sa,[ia,(0,n._)("form",{onSubmit:t[5]||(t[5]=(0,o.iM)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"]))},[(0,n._)("div",null,[ra,(0,n.wy)((0,n._)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>s.username=e)},null,512),[[o.nr,s.username]])]),(0,n._)("div",null,[da,(0,n.wy)((0,n._)("input",{type:"text",id:"nickname","onUpdate:modelValue":t[1]||(t[1]=e=>s.nickname=e)},null,512),[[o.nr,s.nickname]])]),(0,n._)("div",null,[ca,(0,n.wy)((0,n._)("input",{type:"email",id:"email","onUpdate:modelValue":t[2]||(t[2]=e=>s.email=e)},null,512),[[o.nr,s.email]])]),(0,n._)("div",null,[ma,(0,n.wy)((0,n._)("input",{type:"password",id:"password","onUpdate:modelValue":t[3]||(t[3]=e=>s.password=e)},null,512),[[o.nr,s.password]])]),(0,n._)("div",null,[ua,(0,n.wy)((0,n._)("input",{type:"password",id:"password-confirm","onUpdate:modelValue":t[4]||(t[4]=e=>s.passwordConfirm=e)},null,512),[[o.nr,s.passwordConfirm]])]),pa],32)])}var ga={data(){return{apiUrl:R,passwordConfirm:"",username:"",email:"",password:"",nickname:""}},methods:{submitForm(){const e={username:this.username,email:this.email,password:this.password,birthday:new Date,nickname:this.nickname};W.Z.post(this.apiUrl+"/user/join",e,{headers:{"Content-Type":"application/json"}}).then((()=>{this.$router.push("/login")})).catch((e=>{console.error(e)}))}}};const ba=(0,k.Z)(ga,[["render",ha],["__scopeId","data-v-3234ee54"]]);var wa=ba;const fa=e=>((0,n.dD)("data-v-188be93e"),e=e(),(0,n.Cn)(),e),ka={class:"owner"},ya={class:"team-list owner"},_a=fa((()=>(0,n._)("h3",null,"내가 만든 팀",-1))),va={key:0},Ma=["onClick"],Ca=["onClick"],Ta={key:0,class:"modal"},Da={class:"modal-content"},Ia=["value"],Pa=["value"],xa=fa((()=>(0,n._)("span",null,"팀을 공개하실 건가요?",-1))),Ba=fa((()=>(0,n._)("br",null,null,-1)));function Ua(e,t,a,o,l,s){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ka,[(0,n._)("div",ya,[_a,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.teamMembers,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"team",key:e.id},["MANAGER"===e.gradeName||"OWNER"===e.gradeName?((0,n.wg)(),(0,n.iD)("div",va,[(0,n.Wm)(i,{to:`/my-teams/owner/detail/${e.id}`,class:"btn btn-primary",teamId:e.teamId},{default:(0,n.w5)((()=>[(0,n._)("h3",null,(0,G.zw)(e.teamName),1)])),_:2},1032,["to","teamId"]),(0,n._)("p",null,(0,G.zw)(e.description),1),(0,n._)("button",{onClick:t=>s.deleteTeam(e.id)},"Delete",8,Ma),(0,n._)("button",{onClick:t=>s.openUpdateModal(e)},"Update",8,Ca)])):(0,n.kq)("",!0)])))),128))])]),l.showUpdateModal?((0,n.wg)(),(0,n.iD)("div",Ta,[(0,n._)("div",Da,[(0,n._)("input",{class:"tag-input team-name",type:"text",value:l.selectedTeam.teamName},null,8,Ia),(0,n._)("input",{type:"text",value:l.selectedTeam.description,class:"tag-input description"},null,8,Pa),xa,(0,n._)("input",{type:"checkbox",onChange:t[0]||(t[0]=e=>s.changeOpenOption())},null,32),(0,n.Uk)(),Ba,(0,n._)("button",{onClick:t[1]||(t[1]=e=>s.updateTeam(l.selectedTeam))},"Update"),(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>s.closeUpdateModal&&s.closeUpdateModal(...e))},"Close")])])):(0,n.kq)("",!0)],64)}var Sa={name:"MyOwnerTeam",data(){return{apiUrl:R,teamMembers:[],showUpdateModal:!1,selectedTeam:null,updateTeamIsOpen:!1}},async mounted(){try{const e=await W.Z.get(this.apiUrl+"/team/my-list",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}});this.teamMembers=e.data,console.log("Team list:",this.teamMembers),console.log(this.teamMembers[0].id)}catch(e){console.error("Error fetching team list:",e)}},methods:{openUpdateModal(e){this.selectedTeam=e,this.showUpdateModal=!0},closeUpdateModal(){this.showUpdateModal=!1},changeOpenOption(){this.updateTeamIsOpen=!this.updateTeamIsOpen,console.log(this.updateTeamIsOpen)},async deleteTeam(e){if(confirm("정말 삭제하시겠습니까?")){console.log(e);try{await W.Z["delete"](this.apiUrl+"/team/delete/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}),alert("팀 삭제 성공"),this.teamMembers=this.teamMembers.filter((t=>t.id!==e))}catch(t){console.error("Error deleting team:",t)}}},async updateTeam(e){const t={id:e.id,teamName:document.getElementsByClassName("team-name")[0].value,description:document.getElementsByClassName("description")[0].value,isOpen:this.updateTeamIsOpen};try{await W.Z.put(this.apiUrl+"/team/update",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}});const a=this.teamMembers.findIndex((t=>t.id===e.id));-1!==a&&(this.teamMembers[a].name=document.getElementsByClassName("team-name")[0].value,this.teamMembers[a].description=document.getElementsByClassName("description")[0].value),alert("팀 수정 성공"),this.closeUpdateModal()}catch(a){console.error("Error updating team:",a)}},async cancelJoin(e){console.log(e.id),confirm("가입을 취소하시겠습니까?")&&W.Z["delete"](this.apiUrl+"/team/leave/"+e.id,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}).then((()=>{alert("가입 취소 성공"),this.teamMembers=this.teamMembers.filter((t=>t.id!==e.id))})).catch((e=>{console.error("Error canceling join:",e)}))}}};const Ga=(0,k.Z)(Sa,[["render",Ua],["__scopeId","data-v-188be93e"]]);var za=Ga;const Na=e=>((0,n.dD)("data-v-719b4ea4"),e=e(),(0,n.Cn)(),e),Za={class:"team-section"},Oa=Na((()=>(0,n._)("br",null,null,-1))),Aa={key:0},ja={key:1,class:"modal"},Va={class:"modal-content"},$a=Na((()=>(0,n._)("h3",null," 계획 만들기 ",-1)));function Fa(e,t,a,l,s,i){const r=(0,n.up)("plan-card");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",Za,[s.showPrevButton?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>i.prevTeam&&i.prevTeam(...e))},"◀")):(0,n.kq)("",!0),(0,n._)("h1",null,(0,G.zw)(s.selectedMember.teamName),1),s.showNextButton?((0,n.wg)(),(0,n.iD)("button",{key:1,onClick:t[1]||(t[1]=(...e)=>i.nextTeam&&i.nextTeam(...e))},"▶")):(0,n.kq)("",!0),Oa,(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>i.openCreatePlanModal&&i.openCreatePlanModal(...e))},"+")]),s.selectedMember?((0,n.wg)(),(0,n.iD)("div",Aa,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.selectedMember.planDtoList,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t},[(0,n.Wm)(r,{plan:e,onUpdateGoal:i.updateGoal,onDeleteGoal:i.deleteGoal,onDeletePlan:i.deletePlan},null,8,["plan","onUpdateGoal","onDeleteGoal","onDeletePlan"])])))),128))])):(0,n.kq)("",!0),s.showCreatePlanModal?((0,n.wg)(),(0,n.iD)("div",ja,[(0,n._)("div",Va,[(0,n._)("span",{class:"cancel-icon",onClick:t[3]||(t[3]=(...e)=>i.closeCreatePlanModal&&i.closeCreatePlanModal(...e))},"×"),$a,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>s.newPlan.title=e),placeholder:"계획 이름을 입력해주세요.",class:"tag-input"},null,512),[[o.nr,s.newPlan.title]]),(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=e=>s.newPlan.description=e),placeholder:"계획 설명을 입력해주세요.",class:"tag-input"},null,512),[[o.nr,s.newPlan.description]]),(0,n._)("button",{class:"tag-input-button",onClick:t[6]||(t[6]=(...e)=>i.submitPlan&&i.submitPlan(...e))},"만들기")])])):(0,n.kq)("",!0)])}const La=e=>((0,n.dD)("data-v-9f914b70"),e=e(),(0,n.Cn)(),e),Ea={class:"plan-card"},qa={class:"title-section"},Wa={class:"content-section"},Ha=["onClick"],Ja=["onClick"],Ra={key:0,class:"add-goal-section"},Ya={key:1,class:"modal"},Ka={class:"modal-content"},Qa=La((()=>(0,n._)("h3",null," 계획 수정하기 ",-1))),Xa={key:2,class:"modal"},eo={class:"modal-content"},to=La((()=>(0,n._)("h3",null," 목표 수정하기 ",-1)));function ao(e,t,a,l,s,i){return(0,n.wg)(),(0,n.iD)("div",Ea,[(0,n._)("div",qa,[(0,n._)("h3",{onClick:t[0]||(t[0]=(...e)=>i.openPlanDetailModal&&i.openPlanDetailModal(...e))},(0,G.zw)(a.plan.title),1),(0,n._)("span",{class:"plan-cancel-icon",onClick:t[1]||(t[1]=(...e)=>i.deletePlan&&i.deletePlan(...e))},"×")]),(0,n._)("div",Wa,[(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.plan.goalList,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t},[(0,n._)("span",{class:"goal-content",onClick:t=>i.openModifyGoalModal(e)},(0,G.zw)(e.title)+" ("+(0,G.zw)(e.goalCount)+"회)",9,Ha),(0,n._)("span",{class:"goal-cancel-icon",onClick:t=>i.deleteGoal(a.plan.id,e.id)},"×",8,Ja)])))),128))]),(0,n._)("button",{onClick:t[2]||(t[2]=(...e)=>i.changeAddGoalSection&&i.changeAddGoalSection(...e))},"+")]),s.showAddGoalSection?((0,n.wg)(),(0,n.iD)("div",Ra,[(0,n.wy)((0,n._)("input",{class:"add-goal-name","onUpdate:modelValue":t[3]||(t[3]=e=>s.newGoal.title=e),onInput:t[4]||(t[4]=(...e)=>i.updateNewGoalTitle&&i.updateNewGoalTitle(...e)),placeholder:"목표"},null,544),[[o.nr,s.newGoal.title]]),(0,n.wy)((0,n._)("input",{class:"add-goal-count","onUpdate:modelValue":t[5]||(t[5]=e=>s.newGoal.goalCount=e),type:"number",min:"0",max:"7",placeholder:"목표 횟수"},null,512),[[o.nr,s.newGoal.goalCount]]),(0,n._)("button",{class:"add-goal-button",onClick:t[6]||(t[6]=(...e)=>i.addGoal&&i.addGoal(...e))},"추가")])):(0,n.kq)("",!0),s.showPlanDetail?((0,n.wg)(),(0,n.iD)("div",Ya,[(0,n._)("div",Ka,[(0,n._)("span",{class:"cancel-icon",onClick:t[7]||(t[7]=(...e)=>i.closePlanDetailModal&&i.closePlanDetailModal(...e))},"×"),Qa,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>s.updatedPlan.title=e),name:"updatedPlanTitle",class:"tag-input"},null,512),[[o.nr,s.updatedPlan.title]]),(0,n.wy)((0,n._)("input",{name:"updatedPlanDescription",type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>s.updatedPlan.description=e),class:"tag-input"},null,512),[[o.nr,s.updatedPlan.description]]),(0,n._)("button",{class:"tag-input-button",onClick:t[10]||(t[10]=(...e)=>i.updatePlan&&i.updatePlan(...e))},"수정하기")])])):(0,n.kq)("",!0),s.showModifyGoalModal?((0,n.wg)(),(0,n.iD)("div",Xa,[(0,n._)("div",eo,[(0,n._)("span",{class:"cancel-icon",onClick:t[11]||(t[11]=(...e)=>i.closeModifyGoalModal&&i.closeModifyGoalModal(...e))},"×"),to,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>s.modifiedGoal.title=e),name:"updatedPlanTitle",class:"tag-input"},null,512),[[o.nr,s.modifiedGoal.title]]),(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>s.modifiedGoal.goalCount=e),class:"tag-input",type:"number",min:"0",max:"7",placeholder:"목표 횟수"},null,512),[[o.nr,s.modifiedGoal.goalCount]]),(0,n._)("button",{class:"tag-input-button",onClick:t[14]||(t[14]=(...e)=>i.modifyGoal&&i.modifyGoal(...e))},"수정하기")])])):(0,n.kq)("",!0)])}var oo={data(){return{member:{},newGoal:{},updatedPlan:{},modifiedGoal:{},showPlanDetail:!1,showAddGoalSection:!1,showModifyGoalModal:!1}},props:{plan:{type:Object,required:!0}},methods:{async updatePlan(){console.log(this.updatedPlan);try{await W.Z.put(R+"/plan",this.updatedPlan,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}),alert("계획 수정이 완료되었습니다"),this.closePlanDetailModal()}catch(e){console.log(e)}},async deletePlan(){if(confirm("피드백과 목표정보가 전부 삭제됩니다. 정말로 삭제하시겠습니까?"))try{const e=await W.Z["delete"](R+"/plan/"+this.plan.id,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}});alert(e.data),this.$emit("delete-plan",this.plan.id)}catch(e){console.log(e)}},async addGoal(){this.newGoal.planId=this.plan.id;try{const e=await W.Z.post(R+"/goal",this.newGoal,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}});this.updateGoal(e.data)}catch(e){console.error(e)}this.newGoal={}},async deleteGoal(e,t){if(!confirm("정말 삭제하시겠습니까?"))return;const a=await W.Z["delete"](R+"/goal/"+t,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}});alert(a.data),this.$emit("delete-goal",e,t)},async modifyGoal(){console.log(this.modifiedGoal);try{const e=await W.Z.put(R+"/goal",this.modifiedGoal,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}});alert(e.data),this.closeModifyGoalModal()}catch(e){console.log(e)}},updateGoal(e){this.$emit("update-goal",e)},updateNewGoalTitle(e){this.newGoal.title=e.target.value},openPlanDetailModal(){this.updatedPlan=this.plan,this.showPlanDetail=!0},closePlanDetailModal(){this.showPlanDetail=!1},changeAddGoalSection(){this.showAddGoalSection=!this.showAddGoalSection},openModifyGoalModal(e){this.showModifyGoalModal=!0,this.modifiedGoal=e},closeModifyGoalModal(){this.showModifyGoalModal=!1}}};const no=(0,k.Z)(oo,[["render",ao],["__scopeId","data-v-9f914b70"]]);var lo=no,so={name:"TeamMemberDetailView",data(){return{apiUrl:R,teamMembers:[],selectedMember:{},newPlan:{},memberId:this.$route.params.teamMemberId,teamId:this.$route.params.teamId,showPrevButton:!1,showNextButton:!1,showCreatePlanModal:!1}},components:{PlanCard:lo},created(){this.fetchMember()},methods:{fetchMember(){W.Z.get(R+"/team/member/list",{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}}).then((e=>{console.log(e.data),this.teamMembers=e.data,this.selectedMember=this.teamMembers[0],this.prevButton(),this.nextButton()})).catch((e=>{console.log(e)}))},deletePlan(e){let t=this.selectedMember.planDtoList.find((t=>t.id===e)),a=this.selectedMember.planDtoList.indexOf(t);this.selectedMember.planDtoList.splice(a,1)},updateGoal(e){console.log(e);let t=this.selectedMember.planDtoList[e.planId-1],a=t.goalList.find((t=>t.id===e.id));a||(t.goalList.push(e),console.log(t))},deleteGoal(e,t){let a=this.selectedMember.planDtoList.find((t=>t.id===e)),o=a.goalList.find((e=>e.id===t)),n=a.goalList.indexOf(o);a.goalList.splice(n,1)},prevButton(){this.showPrevButton=this.selectedMember.id!==this.teamMembers[0].id},prevTeam(){let e=this.teamMembers.findIndex((e=>e.id===this.selectedMember.id));this.selectedMember=this.teamMembers[e-1],this.prevButton(),this.nextButton()},nextButton(){this.showNextButton=this.selectedMember.id!==this.teamMembers[this.teamMembers.length-1].id},nextTeam(){let e=this.teamMembers.findIndex((e=>e.id===this.selectedMember.id));this.selectedMember=this.teamMembers[e+1],this.prevButton(),this.nextButton()},openCreatePlanModal(){this.showCreatePlanModal=!0},closeCreatePlanModal(){this.showCreatePlanModal=!1},async submitPlan(){this.newPlan.memberId=this.selectedMember.id;try{const e=await W.Z.post(R+"/plan",this.newPlan,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("user-token")}`}});this.selectedMember.planDtoList.push(e.data),this.closeCreatePlanModal()}catch(e){console.log(e)}}}};const io=(0,k.Z)(so,[["render",Fa],["__scopeId","data-v-719b4ea4"]]);var ro=io;const co=e=>((0,n.dD)("data-v-7a9e7e02"),e=e(),(0,n.Cn)(),e),mo={class:"container"},uo=co((()=>(0,n._)("h2",{class:"mb-4"},"Team Members",-1))),po={class:"list-group"},ho=["onClick"],go={key:0,class:"modal"},bo={class:"modal-content"},wo=co((()=>(0,n._)("h2",{class:"modal-title"},"역할 조정",-1))),fo={class:"badge-list"},ko=["onClick"];function yo(e,t,a,o,l,s){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",mo,[uo,(0,n._)("ul",po,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.teamMembers,((e,t)=>((0,n.wg)(),(0,n.iD)("li",{key:t},[(0,n.Wm)(i,{to:`/my-teams/detail/${l.teamId}/teamMemberId/${e.id}`,memberId:e.id,class:"btn btn-primary"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,G.zw)(e.nickname),1)])),_:2},1032,["to","memberId"]),(0,n._)("span",{onClick:t=>s.openChangeGradeModal(e),class:"badge bg-primary rounded-pill"},(0,G.zw)(e.gradeName),9,ho)])))),128))])]),l.showChangeGradeModal?((0,n.wg)(),(0,n.iD)("div",go,[(0,n._)("div",bo,[(0,n._)("span",{class:"cancel-icon",onClick:t[0]||(t[0]=(...e)=>s.closeChangeGradeModal&&s.closeChangeGradeModal(...e))},"×"),wo,(0,n._)("ul",fo,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.badgeList,(e=>((0,n.wg)(),(0,n.iD)("li",{class:"badge-list-item",key:e.id},[(0,n._)("span",{class:"badge-icon",onClick:t=>s.changeGrade(e)},(0,G.zw)(e.name),9,ko)])))),128))])])])):(0,n.kq)("",!0)],64)}var _o={name:"TeamDetailView",data(){return{apiUrl:R,teamMembers:[],leaderSelection:{},userGoals:[],teamId:this.$route.params.teamId,showChangeGradeModal:!1,badgeList:[{id:1,name:"팀장",code:"OWNER",iconUrl:"뱃지 1 이미지 URL"},{id:2,name:"매니저",code:"MANAGER",iconUrl:"뱃지 2 이미지 URL"},{id:3,name:"회원",code:"MEMBER",iconUrl:"뱃지 3 이미지 URL"}]}},computed:{},created(){this.fetchTeamMembers(this.teamId)},methods:{async fetchTeamMembers(e){const t=await W.Z.get(this.apiUrl+"/team/owner/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}});this.teamMembers=t.data},showGoals(e){this.selectedMember=e},openChangeGradeModal(e){this.showChangeGradeModal=!0,this.leaderSelection=e},closeChangeGradeModal(){this.showChangeGradeModal=!1},async changeGrade(e){if(confirm(e.name+"로 등급을 조정 하시겠어요?")){this.leaderSelection.gradeName=e.code;try{await W.Z.put(R+"/team/position",this.leaderSelection,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}),alert("등급이 조정되었습니다.");const t=this.teamMembers.find((e=>e.id===this.leaderSelection.id));t.gradeName=e.code,this.closeChangeGradeModal()}catch(t){alert("시스템 오류"),console.log(t)}}}}};const vo=(0,k.Z)(_o,[["render",yo],["__scopeId","data-v-7a9e7e02"]]);var Mo=vo;const Co=e=>((0,n.dD)("data-v-6a33a1de"),e=e(),(0,n.Cn)(),e),To={class:"team-list owner"},Do=Co((()=>(0,n._)("h3",null,"가입한 팀",-1))),Io={key:0};function Po(e,t,a,o,l,s){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",To,[Do,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.teamMembers,(a=>((0,n.wg)(),(0,n.iD)("div",{class:"team",key:a.id},["MEMBER"===a.gradeName?((0,n.wg)(),(0,n.iD)("div",Io,[(0,n.Wm)(i,{to:`/my-teams/detail/${a.teamId}/teamMemberId/1`,class:"btn btn-primary"},{default:(0,n.w5)((()=>[(0,n._)("h3",null,(0,G.zw)(a.teamName),1)])),_:2},1032,["to"]),(0,n._)("p",null,(0,G.zw)(a.description),1),(0,n._)("button",{onClick:t[0]||(t[0]=(...t)=>e.no&&e.no(...t))},"Delete")])):(0,n.kq)("",!0)])))),128))])}var xo={name:"MyMemberTeam",data(){return{apiUrl:R,teamMembers:[],showUpdateModal:!1,selectedTeam:null,updateTeamIsOpen:!1}},async mounted(){try{const e=await W.Z.get(this.apiUrl+"/team/my-list",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}});this.teamMembers=e.data,console.log("Team list:",this.teamMembers),console.log(this.teamMembers[0].id)}catch(e){console.error("Error fetching team list:",e)}},methods:{openUpdateModal(e){this.selectedTeam=e,this.showUpdateModal=!0},closeUpdateModal(){this.showUpdateModal=!1},changeOpenOption(){this.updateTeamIsOpen=!this.updateTeamIsOpen,console.log(this.updateTeamIsOpen)},async deleteTeam(e){if(confirm("정말 삭제하시겠습니까?")){console.log(e);try{await W.Z["delete"](this.apiUrl+"/team/delete/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}),alert("팀 삭제 성공"),this.teamMembers=this.teamMembers.filter((t=>t.id!==e))}catch(t){console.error("Error deleting team:",t)}}},async updateTeam(e){const t={id:e.id,teamName:document.getElementsByClassName("team-name")[0].value,description:document.getElementsByClassName("description")[0].value,isOpen:this.updateTeamIsOpen};try{await W.Z.put(this.apiUrl+"/team/update",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}});const a=this.teamMembers.findIndex((t=>t.id===e.id));-1!==a&&(this.teamMembers[a].name=document.getElementsByClassName("team-name")[0].value,this.teamMembers[a].description=document.getElementsByClassName("description")[0].value),alert("팀 수정 성공"),this.closeUpdateModal()}catch(a){console.error("Error updating team:",a)}},async cancelJoin(e){console.log(e.id),confirm("가입을 취소하시겠습니까?")&&W.Z["delete"](this.apiUrl+"/team/leave/"+e.id,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}).then((()=>{alert("가입 취소 성공"),this.teamMembers=this.teamMembers.filter((t=>t.id!==e.id))})).catch((e=>{console.error("Error canceling join:",e)}))}}};const Bo=(0,k.Z)(xo,[["render",Po],["__scopeId","data-v-6a33a1de"]]);var Uo=Bo;const So=e=>((0,n.dD)("data-v-5e560f30"),e=e(),(0,n.Cn)(),e),Go={class:"team-list owner"},zo=So((()=>(0,n._)("h3",null,"가입대기 중인 팀",-1))),No={key:0},Zo=["onClick"];function Oo(e,t,a,o,l,s){return(0,n.wg)(),(0,n.iD)("div",Go,[zo,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(l.teamMembers,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"team",key:e.id},["PENDING"===e.gradeName?((0,n.wg)(),(0,n.iD)("div",No,[(0,n._)("h3",null,(0,G.zw)(e.teamName),1),(0,n._)("p",null,(0,G.zw)(e.description),1),(0,n._)("button",{onClick:t=>s.cancelJoin(e)},"가입 취소",8,Zo)])):(0,n.kq)("",!0)])))),128))])}var Ao={name:"MyMemberTeam",data(){return{apiUrl:R,teamMembers:[],showUpdateModal:!1,selectedTeam:null,updateTeamIsOpen:!1}},async mounted(){try{const e=await W.Z.get(this.apiUrl+"/team/my-list",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}});this.teamMembers=e.data,console.log("Team list:",this.teamMembers),console.log(this.teamMembers[0].id)}catch(e){console.error("Error fetching team list:",e)}},methods:{openUpdateModal(e){this.selectedTeam=e,this.showUpdateModal=!0},closeUpdateModal(){this.showUpdateModal=!1},changeOpenOption(){this.updateTeamIsOpen=!this.updateTeamIsOpen,console.log(this.updateTeamIsOpen)},async deleteTeam(e){if(confirm("정말 삭제하시겠습니까?")){console.log(e);try{await W.Z["delete"](this.apiUrl+"/team/delete/"+e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}),alert("팀 삭제 성공"),this.teamMembers=this.teamMembers.filter((t=>t.id!==e))}catch(t){console.error("Error deleting team:",t)}}},async updateTeam(e){const t={id:e.id,teamName:document.getElementsByClassName("team-name")[0].value,description:document.getElementsByClassName("description")[0].value,isOpen:this.updateTeamIsOpen};try{await W.Z.put(this.apiUrl+"/team/update",t,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}});const a=this.teamMembers.findIndex((t=>t.id===e.id));-1!==a&&(this.teamMembers[a].name=document.getElementsByClassName("team-name")[0].value,this.teamMembers[a].description=document.getElementsByClassName("description")[0].value),alert("팀 수정 성공"),this.closeUpdateModal()}catch(a){console.error("Error updating team:",a)}},async cancelJoin(e){console.log(e.id),confirm("가입을 취소하시겠습니까?")&&W.Z["delete"](this.apiUrl+"/team/leave/"+e.id,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("user-token")}}).then((()=>{alert("가입 취소 성공"),this.teamMembers=this.teamMembers.filter((t=>t.id!==e.id))})).catch((e=>{console.error("Error canceling join:",e)}))}}};const jo=(0,k.Z)(Ao,[["render",Oo],["__scopeId","data-v-5e560f30"]]);var Vo=jo;const $o=[{path:"/",component:qt},{path:"/share",component:De},{path:"/goals",component:pt},{path:"/teams",component:zt},{path:"/home",component:ne},{path:"/profile",component:na},{path:"/signup",component:wa},{path:"/my-teams/owner",component:za},{path:"/my-teams/member",component:Uo},{path:"/my-teams/pending",component:Vo},{path:"/my-teams/owner/detail/:teamId",component:Mo},{path:"/my-teams/detail/:teamId/teamMemberId/:teamMemberId",component:ro}],Fo=(0,S.p7)({history:(0,S.PO)(),routes:$o});var Lo=Fo,Eo=a(3494),qo=a(8539),Wo=a(7749);Eo.vI.add(qo.r8p,qo.$aW);const Ho=(0,o.ri)(U);Ho.component("font-awesome-icon",Wo.GN),Ho.use(Lo),Ho.use(Ft),Ho.mount("#app")}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var l=t[o]={exports:{}};return e[o](l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,l){if(!o){var s=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],l=e[c][2];for(var i=!0,r=0;r<o.length;r++)(!1&l||s>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[r])}))?o.splice(r--,1):(i=!1,l<s&&(s=l));if(i){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,n,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,l,s=o[0],i=o[1],r=o[2],d=0;if(s.some((function(t){return 0!==e[t]}))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(r)var c=r(a)}for(t&&t(o);d<s.length;d++)l=s[d],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},o=self["webpackChunkstronger_vue"]=self["webpackChunkstronger_vue"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(1057)}));o=a.O(o)})();
//# sourceMappingURL=app.58c3d339.js.map